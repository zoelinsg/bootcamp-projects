# Module 2: Adding Interactivity to HTML Documents

## 1. 字串（String）

| 特性 | 範例 |
| --- | --- |
| 單引號 / 雙引號 | `'He said "Hi"'` / `"This is 'ok'"` |
| 轉義符 | `'I\\'m fine'`, `"This is a \\"quote\\""` |
| Template Literals | 支援多行、插值 `${var}` |
- 特殊字元：`\\n` 換行、`\\t` Tab、`\\\\` 反斜線
- 不可變（immutable）：方法回傳新字串，不會原地修改

```jsx
const s = ' Hello World ';
s.trim();            // 去空白
s.toUpperCase();     // 大寫
s.includes('World'); // false（大小寫敏感）
s.slice(1, 6);       // 'Hello'
s.replaceAll('o', '0');
'2025-08-11'.split('-'); // ['2025','08','11']
```

## 2. 字串運算與轉換

- 連接：`'one' + 'two'`、`s += ' World'`、``Hello, ${name}!``
- 轉換：

```jsx
String(10);          // '10'
Number('08');        // 8
parseInt('08', 10);  // 8
+'42';               // 42
1 + '2';             // '12'
```
- `Number.isNaN()` 優於 `isNaN()`（避免隱式轉型）

---

## 3. 陣列（Array）

```jsx
let arr = [1, 2, 3];
arr.push(10);
arr.pop();
arr.shift();
arr.unshift(99);
arr.forEach(x => console.log(x));
const squared = arr.map(x => x * x);
const odds = arr.filter(x => x % 2);
```
- 字串類陣列特性：可用索引與 `.length`，但不可修改

---

## 4. 物件（Object）

```jsx
const student = { name: 'John', age: 20 };
student.name;        // 'John'
student['age'];      // 20
const copy = { ...student };
```
- 常見全域物件：`window`、`document`、`navigator`

---

## 5. 函式（Function）

```jsx
function sum(a, b) { return a + b; }
const addAll = (...nums) => nums.reduce((t, n) => t + n, 0);
function f(x = 0) { return x * 2; } // 預設參數
```
- 建議：Rest 參數 + 預設值，避免 `arguments`

---

## 6. Console 與除錯

```jsx
console.log(`x = ${x}`);
debugger; // 觸發 DevTools 中斷點
```
- 開啟 DevTools：Windows F12 / Ctrl+Shift+I；macOS ⌘⌥I

---

## 7. DOM 操作（基礎）

- 選取：`document.querySelector('#id')`
- 修改內容：`el.textContent`、`el.innerHTML`
- 插入 HTML：`el.insertAdjacentHTML()`
- 改樣式：`el.style.backgroundColor = 'red'`

```html
<button id="btn">Click</button>
<script>
  document.querySelector('#btn')
    .addEventListener('click', () => {
      document.body.insertAdjacentHTML('beforeend', '<p>Clicked!</p>');
    });
</script>
```

---

## 8. 事件（Events）

- 推薦：`addEventListener('click', handler)`
- 不建議：inline `onclick`
- 常見事件：click、keydown、load、resize、orientationchange

---

## 9. 標準 Web API 與外部函式庫

- API：Canvas、Web Audio、Geolocation
- 外部庫：`function-plot`、`d3.js`、`chiptune.js`、`sprite.js`
- 正式專案：NPM + Bundler 管理依賴

---

## 10. 遠端資料與多媒體

```jsx
async function loadPosts() {
  const res = await fetch('https://jsonplaceholder.typicode.com/posts?_limit=3');
  const data = await res.json();
  console.table(data);
}
loadPosts();
```
- 音效：Howler.js 可載入並播放遠端音源

---

## 11. 變數與賦值

```jsx
let myNumber = 1.34;
const pi = 3.14;
```
- 預設用 `const`，需改值才用 `let`
- 避免使用 `var`

---

## 12. 作用域（Scope）

```jsx
if (true) {
  let a = 4;
}
console.log(a); // ReferenceError
```
- `let` / `const`：區塊作用域
- `var`：函式作用域（有提升 hoisting）

---

## 13. 資料型別（Data Types）

| 類別 | 範例 |
| --- | --- |
| 原始型別 | number, string, boolean, undefined, null, bigint, symbol |
| 物件型別 | object, array, function, Date, RegExp |

```jsx
typeof null; // "object"
Array.isArray([]); // true
Number.isNaN(NaN); // true
```

---

## 14. 實作

- 用三種引號建立字串，並包含不同類型引號
- `formatUser(name, age)`：輸出 `"name (age)"`，`age` 非數字則拋錯
- 陣列推入 3 個數字 → map 成平方 → filter 出奇數
- 用 rest 參數寫 `sum(...nums)` 並在 Console 測試
- 建立按鈕，點擊時插入現在時間到底部

---

## 15. 總結

- 先熟悉 **字串、陣列、物件、函式** 的基本操作
- 掌握 DOM 選取與事件綁定，讓資料驅動 UI
- 型別與作用域是錯誤熱點 → 善用 `const/let`、`Number.isNaN`、`Array.isArray`