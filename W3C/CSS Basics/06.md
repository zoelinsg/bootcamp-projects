# Module 6: Basics of page layout
## 1️⃣ 模組概述

| 單元 | 內容 | 重點 |
| --- | --- | --- |
| **6.1** | Introduction | Layout 在網頁設計的角色 |
| **6.2** | Concepts | display / position 基石 |
| **6.3–6.5** | Flexbox & Grid (選修) | 現代排版系統 |
| **6.6** | Recipe Project | 響應式實作練習 |
| **6.7** | Final Exam | 期末測驗 25% |

---

## 2️⃣ CSS 排版歷程

| 世代 | 主流技術 | 常見痛點 |
| --- | --- | --- |
| 早期 | `table` 切圖 | HTML 與樣式耦合 |
| 過渡 | `absolute`, `float` | 清除浮動、結構脆弱 |
| 現代 | **Flexbox** | 一維彈性排版 |
| 進階 | **Grid** | 二維行列佈局 |
- 結論：Flexbox → 元件級排版；Grid → 頁面級佈局。

---

## 3️⃣ display 類型比對

| 特性 | **Block** | **Inline** | **Inline‑Block** |
| --- | --- | --- | --- |
| 是否換行 | ✅ | ❌ | ❌ |
| 可設 width / height | ✅ | ❌ | ✅ |
| margin / padding 上下 | ✅ | ❌ | ✅ |
| 例子 | `div` `p` | `span` `a` | `img` `input` |
- 水平置中

| 元素類型 | 方法 |
| --- | --- |
| Inline | `text-align: center` ← 由父層控制 |
| Block | 指定寬度後 `margin: auto` |
| 現代方案 | `display: flex; justify-content: center;` |

---

## 4️⃣ position 與 z-index

| position | 參考座標 | 脫離文流 | 用途 |
| --- | --- | --- | --- |
| `static` (預設) | 無 | ❌ | 常態排版 |
| `relative` | 自身原位 | ❌ | 輕量偏移 |
| `absolute` | 最近 positioned 祖先 | ✅ | 浮動元件、徽章 |
| `fixed` | 視窗 | ✅ | Sticky Navbar, 回到頂部 |
- z-index
    - 僅對非 `static` 元素生效。
    - 數值越高越前；兄弟元素層級比較。

```css
.banner { position: fixed; top: 0; left: 0; z-index: 100; }
```

---

## 5️⃣ 尺寸 / Overflow / Box Model

- 尺寸屬性
    - `width` `height` `min-` `max-` ➜ 響應式建議先設 **範圍** 再決定固定值。
- Overflow

```css
.container { width: 300px; overflow-y: auto; }
```

- box-sizing

```css
* { box-sizing: border-box; }
```

- `border-box`：寬高含 padding / border，更易掌控排版。

---

## 6️⃣ Flexbox 核心觀念

| 角色 | 設定 | 說明 |
| --- | --- | --- |
| **Flex Container** | `display: flex` | 父層啟用彈性排版 |
| **Flex Item** | `flex: 1 1 auto` | 子元素取得彈性 |
- 三個主屬性

| 屬性 | 說明 |
| --- | --- |
| `flex-grow` | 多餘空間分配比率 |
| `flex-shrink` | 壓縮比率 |
| `flex-basis` | 初始大小 (可取代 width) |

```css
.card { flex: 1 1 240px; }
```

- 父層輔助屬性

| 屬性 | 功能 |
| --- | --- |
| `flex-flow` | `flex-direction` + `flex-wrap` 縮寫 |
| `justify-content` | 主軸對齊（水平） |
| `align-items` | 交叉軸對齊（垂直） |

---

## 7️⃣ Holy Grail 三欄實作 (Flex 版)

```html
<body>
  <header>Header</header>
  <div class="fc">
    <aside>Left</aside>
    <main>Main</main>
    <section>Right</section>
  </div>
  <footer>Footer</footer>
</body>
```

```css
body  { margin: 0; }
header, footer { height: 4rem; background: #ddd; }
.fc {
  display: flex;
  flex-flow: row wrap;
  min-height: calc(100vh - 8rem);
}
.fc > * { flex: 1 1 20rem; }
main     { flex: 2 1 40rem; }
```

- min-height 確保 Footer 貼底；flex-basis 控制初始寬度。

---

## 8️⃣ calc() & 其他技巧

```css
main { height: calc(100vh - 100px); }
```

- 可混合單位；`+ - * /` 皆可用，符號兩側須留空格。
- 適合處理固定 Header / Footer 高度後的剩餘空間。

---

## 9️⃣ 練習任務

- 將四段落排成四欄，第二欄 `flex: 2`。
- 製作 fixed Navbar，內容捲動時保持頂端。
- 用 `box-sizing: border-box` 重構表單，避免寬度溢出。
- 完成 Holy Grail 版型並調整為行動裝置單欄。
- 比較 `margin-top` 與 `position: relative; top:` 之差異。

---

## 1️⃣0️⃣ 參考資源

- **Flexbox Guide (CSS‑Tricks)**: https://css-tricks.com/snippets/css/a-guide-to-flexbox/
- **Flexbox Froggy 遊戲**: https://flexboxfroggy.com/
- **MDN Layout**: https://developer.mozilla.org/en-US/docs/Learn/CSS/CSS_layout
- **Grid Garden** (Grid 練習): https://cssgridgarden.com/

---

## 1️⃣1️⃣ 總結

- `display` / `position` 決定元素在文流中的「性格」。
- `box-sizing: border-box` 與相對尺寸 (%, rem) 是 RWD 好夥伴。
- **Flexbox**：元件排版首選；理解 grow / shrink / basis 掌握彈性。
- Holy Grail 三欄 → Flex 寫法最簡潔；Grid 亦可一行搞定。